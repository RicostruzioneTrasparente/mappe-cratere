# mappe-cratere
Mappe relative alla zona del cratere.

# Modalità alternative alla query SPARQL su wikidata

## Estrazione URL pagine wikipedia da codice comunale ISTAT
### Procedura da riga di comando

La query SPARQL usata è la scelta migliore. Questa è un'alternativa oneline da shell.

I requirementes sono `jq` e `csvkit`.

Questo il comando che:

- estrae soltanto la colonna 7 dal file `comuni_cratere.csv`;
- da questo output rimuove l'intestazione;
- fa una chiamata curl a wikidata, passando il codice ISTAT, e via xargs fa una chiamata per ogni riga del file di input;
- viene estratto il sitelink con jq dall'output in JSON


```bash
<comuni_cratere.csv csvcut -c 7 | tail -n +2 | xargs -I foobar curl -s -X GET "https://query.wikidata.org/bigdata/namespace/wdq/sparql?format=json&query=SELECT%20%3Fsitelink%20WHERE%20%7B%3Fitem%20wdt%3AP635%20%22foobar%22%20.%20%7B%3Fsitelink%20schema%3Aabout%20%3Fitem%20.%20%3Fsitelink%20schema%3AinLanguage%20%22it%22%20%7D%7D" |  jq ".results.bindings[0].sitelink.value"
```

In output

```
"https://it.wikipedia.org/wiki/Force"
"https://it.wikipedia.org/wiki/Cortino"
"https://it.wikipedia.org/wiki/Crognaleto"
"https://it.wikipedia.org/wiki/Fano_Adriano"
"https://it.wikipedia.org/wiki/Isola_del_Gran_Sasso_d%27Italia"
"https://it.wikipedia.org/wiki/Montorio_al_Vomano"
"https://it.wikipedia.org/wiki/Norcia"
"https://it.wikipedia.org/wiki/Poggiodomo"
"https://it.wikipedia.org/wiki/Preci"
...
```

### Procedura attraverso Open Refine 2.7
Questa procedura, relativamente al parsing JSON dell'ultimo passaggio non funziona su Open Refine < 2.7

Il progetto utilizzato è disponibile nel repo con il nome di **comuni_cratere-csv.openrefine.tar.gz**

La procedura è sinteticamente la seguente:

- si carica in Open Refine il file **comuni_cratere.csv**
- sul campo *NOME* uso la funzione di riconciliazione su **Wikidata Reconciliation for Open Refine (it)** scegliendo **comune italiano** come entità di riferimento
- terminata la riconcialiazione creo una nuova coonna (*URLWikidata*) basata su quella *NOME*, questa colonna rappresenta l'url wikidata individuata nella riconcialiazione con output in JSON

```
"https://www.wikidata.org/wiki/Special:EntityData/" + cell.recon.match.id +".json"
```
il risultato ha questa forma

```
https://www.wikidata.org/wiki/Special:EntityData/Q56070.json
https://www.wikidata.org/wiki/Special:EntityData/Q51446.json
https://www.wikidata.org/wiki/Special:EntityData/Q51447.json
```
ora creo una una nuova colonna che contiene per ogni cella il JSON prodotto dalle pagine sopra attraverso la funzione **aggiungi colonna recuperando da URL's** e indicando come URL la colonna URLWikidata, con questa funzione
```
cells["URLWikidata"].value
```
finità l'operazione, che porterà via una mezzoretta, mi trovo delle celle che contengono una cosa così (questo è il contenuto di una singola cella)
```
{"entities":{"Q56070":{"pageid":58825,"ns":0,"title":"Q56070","lastrevid":520120230,"modified":"2017-07-15T12:08:54Z","type":"item","id":"Q56070","labels":{"it":{"language":"it","value":"Force"},"de":{"language":"de","value":"Force"},"en":{"language":"en","value":"Force, Marche"},"eo":{"language":"eo","value":"Force"},"es":{"language":"es","value":"Force"},"fr":{"language":"fr","value":"Force"},"ia":{"language":"ia","value":"Force"},"ja":{"language":"ja","value":"\u30d5\u30a9\u30eb\u30c1\u30a7"},"kk":{"language":"kk","value":"\u0424\u043e\u0440\u0447\u0435"},"lmo":{"language":"lmo","value":"Force"},"nap":{"language":"nap","value":"Force"},"nl":{"language":"nl","value":"Force"},"pl":{"language":"pl","value":"Force"},"pms":{"language":"pms","value":"Force"},"pt":{"language":"pt","value":"Force"},"ru":{"language":"ru","value":"\u0424\u043e\u0440\u0447\u0435"},"tl":{"language":"tl","value":"Force, Marche"},"uk":{"language":"uk","value":"\u0424\u043e\u0440\u0447\u0435"},"uz":{"language":"uz","value":"Force"},"vi":{"language":"vi","value":"Force"},"vo":{"language":"vo","value":"Force"},"war":{"language":"war","value":"Force, Italya"},"zh":{"language":"zh","value":"\u798f\u5c14\u5207"},"en-ca":{"language":"en-ca","value":"Force, Marche"},"en-gb":{"language":"en-gb","value":"Force, Marche"},"pt-br":{"language":"pt-br","value":"Force"},"ms":{"language":"ms","value":"Force, Marche"},"la":{"language":"la","value":"Castrum Furcis"},"sh":{"language":"sh","value":"Force"},"bg":{"language":"bg","value":"\u0424\u043e\u0440\u0447\u0435"},"sr":{"language":"sr","value":"Force"},"hy":{"language":"hy","value":"\u0556\u0578\u0580\u0579\u0565"},"hu":{"language":"hu","value":"Force"},"ro":{"language":"ro","value":"Force"},"nan":{"language":"nan","value":"Force"},"eu":{"language":"eu","value":"Force"},"roa-tara":{"language":"roa-tara","value":"Force"},"ceb":{"language":"ceb","value":"Force"}},"descriptions":{"it":{"language":"it","value":"comune italiano"},"an":{"language":"an","value":"comuna italiana"},"ar":{"language":"ar","value":"\u0643\u0648\u0645\u0648\u0646\u0627"},"af":{"language":"af","value":"munisipaliteit in die Italiaanse"},"bar":{"language":"bar","value":"st\u00e5d in It\u00e1lien"},"bcl":{"language":"bcl","value":"komyun Italyanong"},"bg":{"language":"bg","value":"\u0418\u0442\u0430\u043b\u0438\u0430\u043d\u0441\u043a\u0438 \u043e\u0431\u0449\u0438\u043d\u0430"},"br":{"language":"br","value":"gumun ag Italia"},"bs":{"language":"bs","value":"komuna u Italiji"},"ca":{"language":"ca","value":"un municipi Itali\u00e0"},"co":{"language":"co","value":"cumuna taliana"},"cs":{"language":"cs","value":"italsk\u00e1 obec"},"de":{"language":"de","value":"italienische Gemeinde"},"el":{"language":"el","value":"\u03b4\u03ae\u03bc\u03bf\u03c2 \u03c4\u03b7\u03c2 \u0399\u03c4\u03b1\u03bb\u03af\u03b1\u03c2"},"eml":{"language":"eml","value":"cum\u00f2n itali\u00e8n"},"en":{"language":"en","value":"Italian comune"},"eo":{"language":"eo","value":"komunumo de Italio"},"es":{"language":"es","value":"municipio italiano"},"eu":{"language":"eu","value":"udalerri italiako"},"ext":{"language":"ext","value":"monic\u00edpiu italianu"},"fr":{"language":"fr","value":"commune italienne"},"gl":{"language":"gl","value":"comuna italiana"},"ia":{"language":"ia","value":"municipalitate italian"},"hi":{"language":"hi","value":"\u0915\u094b\u092e\u0942\u0928\u0947"},"hr":{"language":"hr","value":"Talijanske op\u0107ine"},"ja":{"language":"ja","value":"\u30b3\u30e0\u30fc\u30cd"},"la":{"language":"la","value":"Italiae municipium"},"lmo":{"language":"lmo","value":"comun italian"},"lt":{"language":"lt","value":"komuna Italijoje"},"nah":{"language":"nah","value":"\u0100ltep\u0113calp\u014dlli"},"nap":{"language":"nap","value":"'nu comune italiano"},"nl":{"language":"nl","value":"Italiaanse gemeente"},"nn":{"language":"nn","value":"kommune i Italia"},"pl":{"language":"pl","value":"w\u0142oska gmina"},"pt":{"language":"pt","value":"comuna italiana"},"roa-tara":{"language":"roa-tara","value":"'nu comune tagli\u00e1ne"},"ru":{"language":"ru","value":"\u043a\u043e\u043c\u043c\u0443\u043d\u0430 \u0418\u0442\u0430\u043b\u0438\u0438"},"scn":{"language":"scn","value":"nu cumuni di T\u00e0lia"},"sq":{"language":"sq","value":"komun\u00eb italian"},"sv":{"language":"sv","value":"kommun i Italien"},"tr":{"language":"tr","value":"\u0130talya'n\u0131n Kom\u00fcnleri"},"uk":{"language":"uk","value":"\u043c\u0443\u043d\u0456\u0446\u0438\u043f\u0430\u043b\u0456\u0442\u0435\u0442 \u0432 \u0406\u0442\u0430\u043b\u0456\u0457"},"ur":{"language":"ur","value":"\u06a9\u0645\u0648\u0646\u06d2"},"uz":{"language":"uz","value":"Italiya kommunalari"},"vec":{"language":"vec","value":"comune ita\u0142ian"},"war":{"language":"war","value":"comune italyano"},"zh":{"language":"zh","value":"\u610f\u5927\u5229\u7684\u4e00\u4e2a\u5e02\u9547"},"nb":{"language":"nb","value":"kommune Italia"},"hu":{"language":"hu","value":"telep\u00fcl\u00e9s Olaszorsz\u00e1gban"},"ro":{"language":"ro","value":"comun\u0103 din Italia"},"fi":{"language":"fi","value":"kunta Italiassa"}},"aliases":{"en":[{"language":"en","value":"Force"}]},"claims":{"P131":[{"mainsnak":{"snaktype":"value","property":"P131","datavalue":{"value":{"entity-type":"item","numeric-id":16117,"id":"Q16117"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"q56070$B0203042-C93D-4A59-98F2-FA373EF05290","rank":"normal","references":[{"hash":"fa278ebfc458360e5aed63d5058cca83c46134f1","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":328,"id":"Q328"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P281":[{"mainsnak":{"snaktype":"value","property":"P281","datavalue":{"value":"63086","type":"string"},"datatype":"string"},"type":"statement","id":"q56070$266752CE-7091-4C1D-A599-74C6155D4B93","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P47":[{"mainsnak":{"snaktype":"value","property":"P47","datavalue":{"value":{"entity-type":"item","numeric-id":59269,"id":"Q59269"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"q56070$7060C609-AB21-49B3-9C78-221C31CC4239","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]},{"mainsnak":{"snaktype":"value","property":"P47","datavalue":{"value":{"entity-type":"item","numeric-id":56089,"id":"Q56089"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"q56070$15DE7621-6621-4AD7-BCE0-8072A6193B14","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]},{"mainsnak":{"snaktype":"value","property":"P47","datavalue":{"value":{"entity-type":"item","numeric-id":59296,"id":"Q59296"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"q56070$0CA6CE0E-402F-4D7C-9EB9-BD03DCF3CD22","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]},{"mainsnak":{"snaktype":"value","property":"P47","datavalue":{"value":{"entity-type":"item","numeric-id":56050,"id":"Q56050"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"q56070$FC365764-A5BE-40C2-B81B-8E061EB3E59D","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]},{"mainsnak":{"snaktype":"value","property":"P47","datavalue":{"value":{"entity-type":"item","numeric-id":59265,"id":"Q59265"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"q56070$C0DDCBF4-53FF-4A36-AB38-19D75E09AFD6","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]},{"mainsnak":{"snaktype":"value","property":"P47","datavalue":{"value":{"entity-type":"item","numeric-id":56085,"id":"Q56085"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"q56070$B74BEEBB-C796-41A0-822A-435BB170A033","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]},{"mainsnak":{"snaktype":"value","property":"P47","datavalue":{"value":{"entity-type":"item","numeric-id":56091,"id":"Q56091"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"q56070$2DFC6B5A-CB32-4661-97AD-3740C570A982","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P421":[{"mainsnak":{"snaktype":"value","property":"P421","datavalue":{"value":{"entity-type":"item","numeric-id":6655,"id":"Q6655"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","qualifiers":{"P1264":[{"snaktype":"value","property":"P1264","hash":"5a71e6a321809311ea1a1998db98d29c34b5226d","datavalue":{"value":{"entity-type":"item","numeric-id":1777301,"id":"Q1777301"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"qualifiers-order":["P1264"],"id":"q56070$1B8FBA45-4B1D-43BB-B2E2-D0075607C4F2","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]},{"mainsnak":{"snaktype":"value","property":"P421","datavalue":{"value":{"entity-type":"item","numeric-id":6723,"id":"Q6723"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","qualifiers":{"P1264":[{"snaktype":"value","property":"P1264","hash":"bbce95c43e978fcfb784754a6507030a95cf31f3","datavalue":{"value":{"entity-type":"item","numeric-id":36669,"id":"Q36669"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"qualifiers-order":["P1264"],"id":"Q56070$BC8DD869-B94A-4FF4-B7D9-4D1DADAF96C8","rank":"normal"}],"P473":[{"mainsnak":{"snaktype":"value","property":"P473","datavalue":{"value":"0736","type":"string"},"datatype":"string"},"type":"statement","id":"q56070$95555617-9711-4E9B-A31E-E567AEFC3943","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P635":[{"mainsnak":{"snaktype":"value","property":"P635","datavalue":{"value":"044021","type":"string"},"datatype":"external-id"},"type":"statement","id":"q56070$E060D3A6-532A-452F-9327-2054B69EC533","rank":"normal","references":[{"hash":"23be5ec758bd43e6b412317216632b0675c78607","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":214195,"id":"Q214195"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P17":[{"mainsnak":{"snaktype":"value","property":"P17","datavalue":{"value":{"entity-type":"item","numeric-id":38,"id":"Q38"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"q56070$4620ED58-552B-4ABF-8BB4-6286B2880080","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P242":[{"mainsnak":{"snaktype":"value","property":"P242","datavalue":{"value":"Map of comune of Force (province of Ascoli Piceno, region Marche, Italy).svg","type":"string"},"datatype":"commonsMedia"},"type":"statement","id":"q56070$8a77c836-4316-e041-9af5-fd4db4b6605d","rank":"normal"}],"P806":[{"mainsnak":{"snaktype":"value","property":"P806","datavalue":{"value":"D691","type":"string"},"datatype":"external-id"},"type":"statement","id":"q56070$BF72B62F-52D5-45C3-9B21-4BCA485CCC8F","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P31":[{"mainsnak":{"snaktype":"value","property":"P31","datavalue":{"value":{"entity-type":"item","numeric-id":747074,"id":"Q747074"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"Q56070$B672FF06-0C45-457B-968E-5EA49899B398","rank":"normal"}],"P646":[{"mainsnak":{"snaktype":"value","property":"P646","datavalue":{"value":"/m/0gl7xg","type":"string"},"datatype":"external-id"},"type":"statement","id":"Q56070$110BFA51-62EC-4C56-BF29-6F6A62C9CB99","rank":"normal","references":[{"hash":"2b00cb481cddcac7623114367489b5c194901c4a","snaks":{"P248":[{"snaktype":"value","property":"P248","datavalue":{"value":{"entity-type":"item","numeric-id":15241312,"id":"Q15241312"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}],"P577":[{"snaktype":"value","property":"P577","datavalue":{"value":{"time":"+2013-10-28T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http://www.wikidata.org/entity/Q1985727"},"type":"time"},"datatype":"time"}]},"snaks-order":["P248","P577"]}]}],"P373":[{"mainsnak":{"snaktype":"value","property":"P373","datavalue":{"value":"Force (Italy)","type":"string"},"datatype":"string"},"type":"statement","id":"Q56070$55CA7628-77A7-4E32-BFF5-44615DDFCFEB","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P1566":[{"mainsnak":{"snaktype":"value","property":"P1566","datavalue":{"value":"6543591","type":"string"},"datatype":"external-id"},"type":"statement","id":"Q56070$DFC8ECEC-6191-44E5-84FB-AAFC1F8071A6","rank":"normal","references":[{"hash":"64133510dcdf15e7943de41e4835c673fc5d6fe4","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":830106,"id":"Q830106"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P1465":[{"mainsnak":{"snaktype":"value","property":"P1465","datavalue":{"value":{"entity-type":"item","numeric-id":18755272,"id":"Q18755272"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"Q56070$A102CF3B-BB6D-45EA-8567-41535CBA7865","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P1464":[{"mainsnak":{"snaktype":"value","property":"P1464","datavalue":{"value":{"entity-type":"item","numeric-id":18757325,"id":"Q18757325"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"Q56070$99933A0D-C806-423A-95F7-CACC018FA628","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P214":[{"mainsnak":{"snaktype":"value","property":"P214","datavalue":{"value":"305232684","type":"string"},"datatype":"external-id"},"type":"statement","id":"Q56070$8D0406C3-6305-44F1-88E0-CA2C3773E974","rank":"normal","references":[{"hash":"94cd09bdd3373d7b8eb4e3cc26e524afe7466ff7","snaks":{"P248":[{"snaktype":"value","property":"P248","datavalue":{"value":{"entity-type":"item","numeric-id":54919,"id":"Q54919"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}],"P813":[{"snaktype":"value","property":"P813","datavalue":{"value":{"time":"+2015-08-02T00:00:00Z","timezone":0,"before":0,"after":0,"precision":11,"calendarmodel":"http://www.wikidata.org/entity/Q1985727"},"type":"time"},"datatype":"time"}]},"snaks-order":["P248","P813"]}]}],"P2044":[{"mainsnak":{"snaktype":"value","property":"P2044","datavalue":{"value":{"amount":"+689","unit":"http://www.wikidata.org/entity/Q11573"},"type":"quantity"},"datatype":"quantity"},"type":"statement","id":"Q56070$B0940CF5-8861-48F1-8B42-0125E315F85C","rank":"normal","references":[{"hash":"fa278ebfc458360e5aed63d5058cca83c46134f1","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":328,"id":"Q328"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P856":[{"mainsnak":{"snaktype":"value","property":"P856","datavalue":{"value":"http://www.comune.force.ap.it/","type":"string"},"datatype":"url"},"type":"statement","id":"Q56070$465E986B-AC75-4881-8D0A-E95989E08F86","rank":"normal","references":[{"hash":"9424852ca7d9d48269148c57acbefacca1899882","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11921,"id":"Q11921"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P910":[{"mainsnak":{"snaktype":"value","property":"P910","datavalue":{"value":{"entity-type":"item","numeric-id":21715748,"id":"Q21715748"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"Q56070$8d6deb9b-4ffe-4cd7-3407-23588b43750c","rank":"normal"}],"P935":[{"mainsnak":{"snaktype":"value","property":"P935","datavalue":{"value":"Force (Italy)","type":"string"},"datatype":"string"},"type":"statement","id":"Q56070$0cda3e50-4a9e-c942-b51a-248aa11fbf5f","rank":"normal"}],"P625":[{"mainsnak":{"snaktype":"value","property":"P625","datavalue":{"value":{"latitude":42.963330555556,"longitude":13.491030555556,"altitude":null,"precision":2.77777777778e-6,"globe":"http://www.wikidata.org/entity/Q2"},"type":"globecoordinate"},"datatype":"globe-coordinate"},"type":"statement","id":"Q56070$4EEF813B-F2D3-4458-9D99-BF5006C2DE17","rank":"normal","references":[{"hash":"d5847b9b6032aa8b13dae3c2dfd9ed5d114d21b3","snaks":{"P143":[{"snaktype":"value","property":"P143","datavalue":{"value":{"entity-type":"item","numeric-id":11920,"id":"Q11920"},"type":"wikibase-entityid"},"datatype":"wikibase-item"}]},"snaks-order":["P143"]}]}],"P395":[{"mainsnak":{"snaktype":"value","property":"P395","datavalue":{"value":"AP","type":"string"},"datatype":"string"},"type":"statement","id":"Q56070$D0009349-E3A4-4CE2-81F7-7A6380E01656","rank":"normal"}],"P1332":[{"mainsnak":{"snaktype":"value","property":"P1332","datavalue":{"value":{"latitude":42.9927635,"longitude":13.5178259,"altitude":null,"precision":1.0e-6,"globe":"http://www.wikidata.org/entity/Q2"},"type":"globecoordinate"},"datatype":"globe-coordinate"},"type":"statement","id":"Q56070$62C36498-2C8C-436B-85E2-63163140C0FE","rank":"normal","references":[{"hash":"f2b50b02ae6a17f9ba7d070b3c40e864fe23c473","snaks":{"P402":[{"snaktype":"value","property":"P402","datavalue":{"value":"42243","type":"string"},"datatype":"external-id"}]},"snaks-order":["P402"]}]}],"P1333":[{"mainsnak":{"snaktype":"value","property":"P1333","datavalue":{"value":{"latitude":42.9265452,"longitude":13.5066153,"altitude":null,"precision":1.0e-6,"globe":"http://www.wikidata.org/entity/Q2"},"type":"globecoordinate"},"datatype":"globe-coordinate"},"type":"statement","id":"Q56070$55E139BC-2639-492D-98CD-366BDD58FC95","rank":"normal","references":[{"hash":"f2b50b02ae6a17f9ba7d070b3c40e864fe23c473","snaks":{"P402":[{"snaktype":"value","property":"P402","datavalue":{"value":"42243","type":"string"},"datatype":"external-id"}]},"snaks-order":["P402"]}]}],"P1334":[{"mainsnak":{"snaktype":"value","property":"P1334","datavalue":{"value":{"latitude":42.9825038,"longitude":13.5425849,"altitude":null,"precision":1.0e-6,"globe":"http://www.wikidata.org/entity/Q2"},"type":"globecoordinate"},"datatype":"globe-coordinate"},"type":"statement","id":"Q56070$95651DE1-B4AA-4101-B34C-34D2807B723B","rank":"normal","references":[{"hash":"f2b50b02ae6a17f9ba7d070b3c40e864fe23c473","snaks":{"P402":[{"snaktype":"value","property":"P402","datavalue":{"value":"42243","type":"string"},"datatype":"external-id"}]},"snaks-order":["P402"]}]}],"P1335":[{"mainsnak":{"snaktype":"value","property":"P1335","datavalue":{"value":{"latitude":42.9453668,"longitude":13.4447273,"altitude":null,"precision":1.0e-6,"globe":"http://www.wikidata.org/entity/Q2"},"type":"globecoordinate"},"datatype":"globe-coordinate"},"type":"statement","id":"Q56070$5D26BB85-1862-4F01-B790-3882AAEC59B6","rank":"normal","references":[{"hash":"f2b50b02ae6a17f9ba7d070b3c40e864fe23c473","snaks":{"P402":[{"snaktype":"value","property":"P402","datavalue":{"value":"42243","type":"string"},"datatype":"external-id"}]},"snaks-order":["P402"]}]}],"P402":[{"mainsnak":{"snaktype":"value","property":"P402","datavalue":{"value":"42243","type":"string"},"datatype":"external-id"},"type":"statement","id":"Q56070$E99CC781-544A-4258-AC1C-2A81B641D255","rank":"normal"}],"P18":[{"mainsnak":{"snaktype":"value","property":"P18","datavalue":{"value":"Panorama di Force.jpg","type":"string"},"datatype":"commonsMedia"},"type":"statement","id":"Q56070$3a9f9256-496f-5ad1-9a56-011059095a47","rank":"normal"}],"P36":[{"mainsnak":{"snaktype":"value","property":"P36","datavalue":{"value":{"entity-type":"item","numeric-id":30025800,"id":"Q30025800"},"type":"wikibase-entityid"},"datatype":"wikibase-item"},"type":"statement","id":"Q56070$FAA40C32-8E0B-4C9A-8B64-1A82C8B9A057","rank":"normal"}]},"sitelinks":{"bgwiki":{"site":"bgwiki","title":"\u0424\u043e\u0440\u0447\u0435","badges":[],"url":"https://bg.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D1%87%D0%B5"},"cebwiki":{"site":"cebwiki","title":"Force (munisipyo)","badges":[],"url":"https://ceb.wikipedia.org/wiki/Force_(munisipyo)"},"dewiki":{"site":"dewiki","title":"Force","badges":[],"url":"https://de.wikipedia.org/wiki/Force"},"enwiki":{"site":"enwiki","title":"Force, Marche","badges":[],"url":"https://en.wikipedia.org/wiki/Force,_Marche"},"eowiki":{"site":"eowiki","title":"Force","badges":[],"url":"https://eo.wikipedia.org/wiki/Force"},"eswiki":{"site":"eswiki","title":"Force","badges":[],"url":"https://es.wikipedia.org/wiki/Force"},"euwiki":{"site":"euwiki","title":"Force","badges":[],"url":"https://eu.wikipedia.org/wiki/Force"},"frwiki":{"site":"frwiki","title":"Force (Italie)","badges":[],"url":"https://fr.wikipedia.org/wiki/Force_(Italie)"},"huwiki":{"site":"huwiki","title":"Force (Marche)","badges":[],"url":"https://hu.wikipedia.org/wiki/Force_(Marche)"},"hywiki":{"site":"hywiki","title":"\u0556\u0578\u0580\u0579\u0565","badges":[],"url":"https://hy.wikipedia.org/wiki/%D5%96%D5%B8%D6%80%D5%B9%D5%A5"},"iawiki":{"site":"iawiki","title":"Force","badges":[],"url":"https://ia.wikipedia.org/wiki/Force"},"itwiki":{"site":"itwiki","title":"Force","badges":[],"url":"https://it.wikipedia.org/wiki/Force"},"jawiki":{"site":"jawiki","title":"\u30d5\u30a9\u30eb\u30c1\u30a7","badges":[],"url":"https://ja.wikipedia.org/wiki/%E3%83%95%E3%82%A9%E3%83%AB%E3%83%81%E3%82%A7"},"kkwiki":{"site":"kkwiki","title":"\u0424\u043e\u0440\u0447\u0435","badges":[],"url":"https://kk.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D1%87%D0%B5"},"lawiki":{"site":"lawiki","title":"Castrum Furcis","badges":[],"url":"https://la.wikipedia.org/wiki/Castrum_Furcis"},"lmowiki":{"site":"lmowiki","title":"Force","badges":[],"url":"https://lmo.wikipedia.org/wiki/Force"},"mswiki":{"site":"mswiki","title":"Force, Marche","badges":[],"url":"https://ms.wikipedia.org/wiki/Force,_Marche"},"napwiki":{"site":"napwiki","title":"Force","badges":[],"url":"https://nap.wikipedia.org/wiki/Force"},"nlwiki":{"site":"nlwiki","title":"Force (Itali\u00eb)","badges":[],"url":"https://nl.wikipedia.org/wiki/Force_(Itali%C3%AB)"},"plwiki":{"site":"plwiki","title":"Force (Ascoli Piceno)","badges":[],"url":"https://pl.wikipedia.org/wiki/Force_(Ascoli_Piceno)"},"pmswiki":{"site":"pmswiki","title":"Force (\u00c0scoli Pic\u00e8n)","badges":[],"url":"https://pms.wikipedia.org/wiki/Force_(%C3%80scoli_Pic%C3%A8n)"},"ptwiki":{"site":"ptwiki","title":"Force","badges":[],"url":"https://pt.wikipedia.org/wiki/Force"},"roa_tarawiki":{"site":"roa_tarawiki","title":"Force","badges":[],"url":"https://roa-tara.wikipedia.org/wiki/Force"},"rowiki":{"site":"rowiki","title":"Force, Marche","badges":[],"url":"https://ro.wikipedia.org/wiki/Force,_Marche"},"ruwiki":{"site":"ruwiki","title":"\u0424\u043e\u0440\u0447\u0435","badges":[],"url":"https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D1%87%D0%B5"},"shwiki":{"site":"shwiki","title":"Force, Ascoli Piceno","badges":[],"url":"https://sh.wikipedia.org/wiki/Force,_Ascoli_Piceno"},"srwiki":{"site":"srwiki","title":"\u0424\u043e\u0440\u0447\u0435","badges":[],"url":"https://sr.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D1%87%D0%B5"},"tlwiki":{"site":"tlwiki","title":"Force, Marche","badges":[],"url":"https://tl.wikipedia.org/wiki/Force,_Marche"},"ukwiki":{"site":"ukwiki","title":"\u0424\u043e\u0440\u0447\u0435","badges":[],"url":"https://uk.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D1%87%D0%B5"},"uzwiki":{"site":"uzwiki","title":"Force","badges":[],"url":"https://uz.wikipedia.org/wiki/Force"},"viwiki":{"site":"viwiki","title":"Force","badges":[],"url":"https://vi.wikipedia.org/wiki/Force"},"vowiki":{"site":"vowiki","title":"Force","badges":[],"url":"https://vo.wikipedia.org/wiki/Force"},"warwiki":{"site":"warwiki","title":"Force, Italya","badges":[],"url":"https://war.wikipedia.org/wiki/Force,_Italya"},"zh_min_nanwiki":{"site":"zh_min_nanwiki","title":"Force, Marche","badges":[],"url":"https://zh-min-nan.wikipedia.org/wiki/Force,_Marche"},"zhwiki":{"site":"zhwiki","title":"\u798f\u5c14\u5207","badges":[],"url":"https://zh.wikipedia.org/wiki/%E7%A6%8F%E5%B0%94%E5%88%87"}}}}}
```
da cui devo estrarre l'url della pagina wikipedia in italiano attraverso la funzione **crea una nuova colonna basata su questa** e la seguente funzione in **Jython**
```
import json
data = json.loads(value) return data['entities'][list(data['entities'].keys())[0]]['sitelinks']['itwiki']['url']
```
che mi restituisce una colonna con questi valori
```
https://it.wikipedia.org/wiki/Force
https://it.wikipedia.org/wiki/Cortino
...
```
